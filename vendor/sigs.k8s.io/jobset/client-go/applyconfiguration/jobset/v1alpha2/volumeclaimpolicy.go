/*
Copyright 2023 The Kubernetes Authors.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
// Code generated by applyconfiguration-gen. DO NOT EDIT.

package v1alpha2

import (
	v1 "k8s.io/api/core/v1"
)

// VolumeClaimPolicyApplyConfiguration represents a declarative configuration of the VolumeClaimPolicy type for use
// with apply.
//
// volumeClaimPolicy defines volume claim templates and lifecycle management for shared PVCs.
type VolumeClaimPolicyApplyConfiguration struct {
	// templates is a list of shared PVC claims that ReplicatedJobs are allowed to reference.
	// The JobSet controller is responsible for creating shared PVCs that can be mounted by
	// multiple ReplicatedJobs. Every claim in this list must have a matching (by name)
	// volumeMount in one container or initContainer in at least one ReplicatedJob template.
	// ReplicatedJob template must not have volumes with the same name as defined in this template.
	// PVC template must not have the namespace parameter.
	// Generated PVC naming convention: <claim-name>-<jobset-name>
	// Example: "model-cache-trainjob" (shared volume across all ReplicatedJobs).
	Templates []v1.PersistentVolumeClaim `json:"templates,omitempty"`
	// retentionPolicy describes the lifecycle of persistent volume claims created from the template.
	// By default, all persistent volume claims are deleted once JobSet is deleted.
	RetentionPolicy *VolumeRetentionPolicyApplyConfiguration `json:"retentionPolicy,omitempty"`
}

// VolumeClaimPolicyApplyConfiguration constructs a declarative configuration of the VolumeClaimPolicy type for use with
// apply.
func VolumeClaimPolicy() *VolumeClaimPolicyApplyConfiguration {
	return &VolumeClaimPolicyApplyConfiguration{}
}

// WithTemplates adds the given value to the Templates field in the declarative configuration
// and returns the receiver, so that objects can be build by chaining "With" function invocations.
// If called multiple times, values provided by each call will be appended to the Templates field.
func (b *VolumeClaimPolicyApplyConfiguration) WithTemplates(values ...v1.PersistentVolumeClaim) *VolumeClaimPolicyApplyConfiguration {
	for i := range values {
		b.Templates = append(b.Templates, values[i])
	}
	return b
}

// WithRetentionPolicy sets the RetentionPolicy field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the RetentionPolicy field is set to the value of the last call.
func (b *VolumeClaimPolicyApplyConfiguration) WithRetentionPolicy(value *VolumeRetentionPolicyApplyConfiguration) *VolumeClaimPolicyApplyConfiguration {
	b.RetentionPolicy = value
	return b
}
