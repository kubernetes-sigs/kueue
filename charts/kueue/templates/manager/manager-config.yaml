apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "kueue.fullname" . }}-manager-config
  namespace: '{{ .Release.Namespace }}'
  labels:
  {{- include "kueue.labels" . | nindent 4 }}
data:
  controller_manager_config.yaml: |
{{ .Values.managerConfig.controllerManagerConfigYaml | indent 4 }}
{{- if not .Values.enableCertManager }}
    internalCertManagement:
      enable: true
      webhookServiceName: {{ include "kueue.fullname" . }}-webhook-service
      webhookSecretName: {{ include "kueue.fullname" . }}-webhook-server-cert
{{- end }}
