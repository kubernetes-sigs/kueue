apiVersion: batch/v1
kind: Job
metadata:
  namespace: gpu-test1
  name: pending-single-gpu-job
  labels:
    app: pending-single-gpu-job
    kueue.x-k8s.io/queue-name: single-gpus-user-queue
spec:
  parallelism: 1
  completions: 1
  template:
    spec:
      restartPolicy: Never
      containers:
        - name: ctr0
          image: ubuntu:22.04
          command: ["bash", "-c"]
          args: ["export; sleep 9999"]
          resources:
            claims:
              - name: gpu #a) read the claim from resources.claims
            requests:
              cpu: 1
              memory: "200Mi"
      resourceClaims:
        - name: gpu # b) use the name in resources.claim
          resourceClaimTemplateName: single-gpu # c) the name for resource claim templates