apiVersion: kueue.x-k8s.io/v1beta1
kind: ClusterQueue
metadata:
  name: "single-gpus-cluster-queue"
spec:
  namespaceSelector: {} # match all.
  resourceGroups:
    - coveredResources: ["cpu", "memory", "single-gpus"]
      flavors:
        - name: "default-flavor"
          resources:
            - name: "cpu"
              nominalQuota: 9
            - name: "memory"
              nominalQuota: "1200Mi"
            - name: 'single-gpus'
              kind: "DeviceClass"
              deviceClassNames:
                - "gpu.example.com"
              nominalQuota: 2
---
apiVersion: kueue.x-k8s.io/v1beta1
kind: LocalQueue
metadata:
  namespace: "gpu-test1"
  name: "single-gpus-user-queue"
spec:
  clusterQueue: "single-gpus-cluster-queue"
---
apiVersion: kueue.x-k8s.io/v1beta1
kind: ResourceFlavor
metadata:
  name: "default-flavor"
---
apiVersion: resource.k8s.io/v1beta1
kind: ResourceClaimTemplate
metadata:
  namespace: gpu-test1
  name: single-gpu
spec:
  spec:
    devices:
      requests:
        - name: gpu
          deviceClassName: gpu.example.com